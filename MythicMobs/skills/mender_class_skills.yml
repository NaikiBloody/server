mender_lifebound:
  Skills:
  - skill{s=mender_lifebound_self} @self
  - skill{s=mender_lifebound_players} @self

mender_lifebound_self:
  Skills:
  - potion{type=REGENERATION;duration=60;level=0;hasParticles=false} @self
  - particles{p=dust_color_transition;color1=#32e5a0;color2=#bfffc6;amount=1;hS=0.3;vS=0.4;y=0.6;size=0.75;speed=0;repeat=35;repeati=2} @self

mender_lifebound_players:
  Conditions:
  - playersinradius{a=>1;r=8}
  Skills:
  - sound{s=mender.lifebound.skill} @self
  - summon{type=vfx_mender_lifebound;onsurface=true;amount=1} @self
  - potion{type=REGENERATION;duration=60;level=0;hasParticles=false} @PIR{r=8}
  - particles{p=dust_color_transition;color1=#32e5a0;color2=#bfffc6;amount=1;hS=0.3;vS=0.4;y=0.6;size=0.75;speed=0;repeat=35;repeati=2} @PIR{r=8}
  
mender_spiritbolt:
  Cooldown: 1
  Conditions:
  - crouching false
  Skills:
  - skill{s=mender_spiritbolt_shoot}

mender_spiritbolt_shoot:
  Skills:
  - sound{s=mender.spiritbolt.shoot} @self
  - skill{s=mender_spiritbolt_initiate;origin=@SelfEyeLocation{yo=-0.5;fo=-0.3}} @forward{f=50;uel=true}
  
mender_spiritbolt_initiate:
  Skills:
  - projectile{tickinterpolation=5;bulletType=MOB;mob=vfx_mender_spiritbolt;onHit=mender_spiritbolt_living;onHitBlock=mender_spiritbolt_hit_block;v=14;i=1;hR=0.6;vR=0.4;mr=50;hnp=true;hO=0;sE=true;sB=true;hs=false;hfs=0;sfo=0;syo=0;tyo=0;sso=0;fo=true;byo=0;drawhitbox=false;ham=true}  
  
mender_spiritbolt_living:
  Skills:
  - sound{s=guardian.aegis.fragment.hit} @origin
  - skill{s=mender_spiritbolt_hit_mob}
  - skill{s=mender_spiritbolt_hit_player}  
  
mender_spiritbolt_hit_mob:
  TargetConditions:
  - isPlayer false
  Skills:
  - skill{s=mender_spiritbolt_hit_mob_execute} @EntitiesNearOrigin{r=2.5;limit=2;sort=NEAREST}
  
mender_spiritbolt_hit_mob_execute:
  TargetConditions:
  - isPlayer false
  Skills:
  - damage{a=6;pkb=false;hnp=true;hp=true;delay=1}
  - summon{type=vfx_mender_spiritbolt_impact;onsurface=true;amount=1}
  - throw{velocity=2;velocityY=1}
  - sound{s=mender.spiritbolt.impact}
  
mender_spiritbolt_hit_player:
  TargetConditions:
  - isPlayer true
  Skills:
  - healpercent{m=0.1} @PlayersNearOrigin{r=2.5;limit=1;sort=NEAREST}  
  - summon{type=vfx_mender_spiritbolt_impact;onsurface=true;amount=1} @PlayersNearOrigin{r=2.5;limit=1;sort=NEAREST}
  - particles{p=dust_color_transition;color1=#32e5a0;color2=#bfffc6;amount=1;hS=0.3;vS=0.4;y=0.6;size=0.75;speed=0;repeat=35;repeati=2} @PlayersNearOrigin{r=2.5;limit=1;sort=NEAREST}
  - sound{s=mender.spiritbolt.impact}
  
mender_spiritbolt_hit_block:
  Skills:
  - sound{s=mender.spiritbolt.impact;volume=0.3} @origin
  - summon{type=vfx_mender_spiritbolt_impact;onsurface=true;amount=1} @origin   
  
mender_cascadebolt:
  Cooldown: 2.5
  Conditions:
  - crouching false
  Skills:
  - skill{s=mender_cascadebolt_shoot}

mender_cascadebolt_shoot:
  Skills:
  - sound{s=mender.cascadebolt.shoot} @self
  - summon{type=vfx_mender_cascadebolt_shoot;onsurface=true;amount=1} @forward{f=1.3;lockpitch=false}
  - skill{s=mender_cascadebolt_initiate;origin=@SelfEyeLocation{yo=-0.5;fo=-0.3}} @forward{f=50;uel=true}
  
mender_cascadebolt_initiate:
  Skills:
  - projectile{tickinterpolation=5;bulletType=MOB;mob=vfx_mender_cascadebolt;onHit=mender_cascadebolt_living;onHitBlock=mender_cascadebolt_hit_block;v=14;i=1;hR=0.6;vR=0.4;mr=50;hnp=true;hO=0;sE=true;sB=true;hs=false;hfs=0;sfo=0;syo=0;tyo=0;sso=0;fo=true;byo=0;drawhitbox=false;ham=true} 
  
mender_cascadebolt_hit_block:
  Skills:
  - sound{s=mender.cascadebolt.impact;volume=0.3} @origin
  - summon{type=vfx_mender_spiritbolt_impact;onsurface=true;amount=1} @origin     
  
mender_cascadebolt_living:
  Skills:
  - sound{s=mender.cascadebolt.impact} @origin
  - skill{s=mender_cascadebolt_hit_mob}
  - skill{s=mender_cascadebolt_hit_player}  

mender_cascadebolt_hit_mob:
  TargetConditions:
  - isPlayer false
  Skills:
  - skill{s=mender_cascadebolt_hit_mob_execute} @EntitiesNearOrigin{r=5;limit=1;sort=NEAREST}
  
mender_cascadebolt_hit_mob_execute:
  TargetConditions:
  - isPlayer false
  Skills:
  - Aura{auraName=cascadebolt_untargetable;duration=40}
  - potion{type=SLOW;duration=40;level=1;hasParticles=true}
  - damage{a=8;pkb=false;hnp=true;hp=true;delay=1}
  - sound{s=mender.cascadebolt.impact} @origin
  - summon{type=vfx_mender_cascadebolt_impact;onsurface=true;amount=1}
  - delay 2
  - skill{s=mender_cascadebolt_projectile} @EntitiesNearOrigin{r=8;limit=2;sort=NEAREST;conditions=[  - hasaura{aura=cascadebolt_untargetable} false  - isPlayer false ]}

mender_cascadebolt_projectile:
  Skills:
  - missile{duration=40;bulletmatchdirection=true;tickinterpolation=5;bulletType=MOB;mob=vfx_mender_spiritbolt;onTick=mender_cascadebolt_particles;onHit=mender_cascadebolt_split1;v=8;in=10;i=1;hR=0.1;vR=0.01;mr=50;hnp=true;hO=0;sE=true;sB=true;hs=false;hfs=0;sfo=0;syo=0.4;tyo=0;sso=0;fo=true;byo=0;drawhitbox=false;ham=true;pav=true;hitConditions=[  - hasaura{aura=cascadebolt_untargetable} false  - isLiving true  - isPlayer false ]}
  
mender_cascadebolt_particles:
  Skills:
  - particles{p=dust_color_transition;color1=#bfffc6;color2=#bfffc6;amount=1;hS=0.2;vS=0.2;y=0.1;size=0.5;speed=1} 
  
mender_cascadebolt_split1:
  TargetConditions:
  - isPlayer false
  Skills:
  - Aura{auraName=cascadebolt_untargetable_split1;duration=10} @EntitiesNearOrigin{r=3;limit=1;sort=NEAREST}
  - potion{type=SLOW;duration=40;level=1;hasParticles=true}
  - damage{a=4;pkb=false;hnp=true;hp=true;delay=1}
  - sound{s=mender.spiritbolt.impact} @origin
  - summon{type=vfx_mender_spiritbolt_impact;onsurface=true;amount=1}
  - delay 2
  - skill{s=mender_cascadebolt_projectile_split1} @EntitiesNearOrigin{r=8;limit=3;sort=NEAREST;conditions=[  - hasaura{aura=cascadebolt_untargetable_split1} false  - hasaura{aura=cascadebolt_untargetable} false  - isPlayer false ]}
  
mender_cascadebolt_projectile_split1:
  Skills:
  - missile{duration=40;bulletmatchdirection=true;tickinterpolation=5;bulletType=MOB;mob=vfx_mender_cascadebolt_split2;onTick=mender_cascadebolt_particles;onHit=mender_cascadebolt_split2;v=8;in=10;i=1;hR=0.1;vR=0.01;mr=50;hnp=true;hO=0;sE=true;sB=true;hs=false;hfs=0;sfo=0;syo=0.4;tyo=0;sso=0;fo=true;byo=0;drawhitbox=false;ham=true;pav=true;hitConditions=[  - hasaura{aura=cascadebolt_untargetable} false  - hasaura{aura=cascadebolt_untargetable_split1} false  - isLiving true  - isPlayer false ]}
  
mender_cascadebolt_split2:
  TargetConditions:
  - isPlayer false
  Skills:
  - potion{type=SLOW;duration=40;level=1;hasParticles=true}
  - damage{a=2;pkb=false;hnp=true;hp=true;delay=1}
  - summon{type=vfx_mender_cascadebolt_split2_impact;onsurface=true;amount=1}
  - sound{s=mender.cascadebolt.split.impact} @origin

mender_cascadebolt_hit_player:
  TargetConditions:
  - isPlayer true
  Skills:
  - skill{s=mender_cascadebolt_hit_player_execute} @EntitiesNearOrigin{r=5;limit=1;sort=NEAREST}
  
mender_cascadebolt_hit_player_execute:
  TargetConditions:
  - isPlayer true
  Skills:
  - Aura{auraName=cascadebolt_untargetable;duration=20}
  - healpercent{m=0.3}
  - sound{s=mender.cascadebolt.impact} @origin
  - summon{type=vfx_mender_cascadebolt_impact;onsurface=true;amount=1}
  - delay 2
  - skill{s=mender_cascadebolt_player_projectile} @EntitiesNearOrigin{r=8;limit=2;sort=NEAREST;conditions=[  - hasaura{aura=cascadebolt_untargetable} false  - isPlayer true ]}

mender_cascadebolt_player_projectile:
  Skills:
  - missile{duration=40;bulletmatchdirection=true;tickinterpolation=5;bulletType=MOB;mob=vfx_mender_spiritbolt;onTick=mender_cascadebolt_particles;onHit=mender_cascadebolt_split1_player;v=8;in=10;i=1;hR=0.1;vR=0.01;mr=50;hnp=true;hO=0;sE=true;sB=true;hs=false;hfs=0;sfo=0;syo=0.4;tyo=0;sso=0;fo=true;byo=0;drawhitbox=false;ham=true;pav=true;hitConditions=[  - hasaura{aura=cascadebolt_untargetable} false  - isLiving true  - isPlayer true ]}
  
mender_cascadebolt_split1_player:
  TargetConditions:
  - isPlayer true
  Skills:
  - Aura{auraName=cascadebolt_untargetable_split1;duration=10} @EntitiesNearOrigin{r=3;limit=1;sort=NEAREST}
  - healpercent{m=0.2}
  - sound{s=mender.spiritbolt.impact} @origin
  - summon{type=vfx_mender_spiritbolt_impact;onsurface=true;amount=1}
  
mender_purging_light:
  Conditions:
  - hasaurastacks{auraName=mender_purging_light_aura} castinstead mender_purging_light_skill
  Skills:
  - Aura{auraName=mender_purging_light_aura;interval=1;duration=5} @self

mender_purging_light_skill:
  Cooldown: 8
  Skills:
  - summon{type=vfx_mender_purging_light;onsurface=true;amount=1} @self
  - particles{p=dust_color_transition;color1=#32e5a0;color2=#bfffc6;amount=1;hS=0.3;vS=0.4;y=0.6;size=0.75;speed=0;repeat=35;repeati=2} @PlayersInRadius{r=10}
  - particles{p=dust_color_transition;color1=#32e5a0;color2=#bfffc6;amount=1;hS=0.3;vS=0.4;y=0.6;size=0.75;speed=0;repeat=35;repeati=2} @self
  - skill{s=mender_purging_light_mob_effects} @EntitiesInRadius{r=10}
  - skill{s=mender_purging_light_mob_effects_core} @EntitiesInRadius{r=5}
  - sound{s=mender.purging.light} @self
  - potionclear{type=BLINDNESS} @PlayersInRadius{r=10}
  - potionclear{type=CONFUSION} @PlayersInRadius{r=10}
  - potionclear{type=HARM} @PlayersInRadius{r=10}
  - potionclear{type=POISON} @PlayersInRadius{r=10}
  - potionclear{type=SLOW} @PlayersInRadius{r=10}
  - potionclear{type=WEAKNESS} @PlayersInRadius{r=10}
  - potionclear{type=WITHER} @PlayersInRadius{r=10}
  - potionclear{type=DARKNESS} @PlayersInRadius{r=10}
  - potionclear{type=NAUSEA} @PlayersInRadius{r=10}
  - potionclear{type=BLINDNESS} @self
  - potionclear{type=CONFUSION} @self
  - potionclear{type=HARM} @self
  - potionclear{type=POISON} @self
  - potionclear{type=SLOW} @self
  - potionclear{type=WEAKNESS} @self
  - potionclear{type=WITHER} @self
  - potionclear{type=DARKNESS} @self
  - potionclear{type=NAUSEA} @self
  
mender_purging_light_mob_effects:
  TargetConditions:
  - isPlayer false
  Skills:
  - throw{velocity=20;velocityY=1}
  - damage{a=4;pkb=false;hnp=true;hp=true;delay=1}
  
mender_purging_light_mob_effects_core:
  TargetConditions:
  - isPlayer false
  Skills:
  - throw{velocity=40;velocityY=2}
  
mender_vital_beam:
  Conditions:
  - crouching true
  Cooldown: 6
  Skills:
  - summon{type=vfx_mender_vital_beam;onsurface=true;amount=1} @self
  - skill{s=mender_vital_beam_inline_mobs} @forward{f=20}
  - skill{s=mender_vital_beam_inline_players} @forward{f=20}
  - sound{s=mender.vital.beam} @self
  
mender_vital_beam_inline_mobs:
  TargetConditions:
  - isPlayer false
  Skills:
  - damage{a=10;pkb=false;hnp=true;hp=true;delay=6} @LivingInLine{r=2}
  - throw{velocity=10;velocityY=1;delay=6} @LivingInLine{r=2}
  - particles{p=dust_color_transition;color1=#32e5a0;color2=#bfffc6;amount=1;hS=0.3;vS=0.4;y=0.6;size=0.75;speed=0;repeat=10;repeati=4} @LivingInLine{r=2}
  
mender_vital_beam_inline_players:
  TargetConditions:
  - isPlayer true
  Skills:
  - healpercent{m=0.15} @self
  - healpercent{m=0.15} @LivingInLine{r=2}
  - particles{p=dust_color_transition;color1=#32e5a0;color2=#bfffc6;amount=1;hS=0.3;vS=0.4;y=0.6;size=0.75;speed=0;repeat=10;repeati=4} @LivingInLine{r=2}   
  
mender_lifeweavers_grace:
  Conditions:
  - crouching true
  Cooldown: 15
  Skills:
  - sound{s=universal.ultimate.sfx} @self
  - delay 3
  - summon{type=vfx_mender_lifeweavers_grace;onsurface=true;amount=1} @self
  - sound{s=mender.lifeweavers.grace} @selflocation
  
mender_lifeweavers_grace_ballskills:
  Skills:
  - skill{s=mender_lifeweavers_grace_projectiles;origin=@modelpart{mid=mender_lifeweavers_grace;pid=core_ball}} @EntitiesNearOrigin{r=20;limit=3;sort=LOWEST_HEALTH;conditions=[  - hasaura{aura=cascadebolt_untargetable} false  - isPlayer true ]}
  - sound{s=mender.cascadebolt.shoot} @origin
  
mender_lifeweavers_grace_ballparticles:
  Skills:
  - particle{p=end_rod;points=5;amount=2;hS=0;vS=0;y=0.1;size=0.05;speed=0.2;origin=@modelpart{mid=mender_lifeweavers_grace;pid=core_ball}} @origin
  
mender_lifeweavers_grace_projectiles:
  Skills:
  - missile{bulletmatchdirection=true;tickinterpolation=5;bulletType=MOB;mob=vfx_mender_cascadebolt_lg;onTick=mender_cascadebolt_particles;onHit=mender_lifeweavers_grace_split;v=10;in=10;i=1;hR=0.1;vR=0.01;mr=50;hnp=true;hO=0;sE=true;sB=true;hs=false;hfs=0;sfo=0;syo=0.4;tyo=0;sso=0;fo=true;byo=0;drawhitbox=false;ham=true;pav=true;hitConditions=[  - isLiving true  - isPlayer true ]}
  
mender_lifeweavers_grace_split:
  TargetConditions:
  - isPlayer true
  Skills:
  - Aura{auraName=cascadebolt_untargetable_split1;duration=10} @EntitiesNearOrigin{r=3;limit=1;sort=NEAREST}
  - sound{s=mender.cascadebolt.impact} @origin
  - potionclear{type=BLINDNESS} 
  - potionclear{type=CONFUSION} 
  - potionclear{type=HARM} 
  - potionclear{type=POISON} 
  - potionclear{type=SLOW} 
  - potionclear{type=WEAKNESS} 
  - potionclear{type=WITHER} 
  - potionclear{type=DARKNESS} 
  - potionclear{type=NAUSEA}
  - healpercent{m=0.20;delay=1}
  - summon{type=vfx_mender_cascadebolt_impact;onsurface=true;amount=1}
  - delay 2
  - skill{s=mender_lifeweavers_grace_projectile_split2} @EntitiesNearOrigin{r=8;limit=3;sort=NEAREST;conditions=[  - hasaura{aura=cascadebolt_untargetable_split1} false  - hasaura{aura=cascadebolt_untargetable} false  - isPlayer true ]}  
  
mender_lifeweavers_grace_projectile_split2:
  Skills:
  - missile{bulletmatchdirection=true;tickinterpolation=5;bulletType=MOB;mob=vfx_mender_cascadebolt_split2;onTick=mender_cascadebolt_particles;onHit=mender_lifeweavers_grace_split2;v=8;in=10;i=1;hR=0.1;vR=0.01;mr=50;hnp=true;hO=0;sE=true;sB=true;hs=false;hfs=0;sfo=0;syo=0.4;tyo=0;sso=0;fo=true;byo=0;drawhitbox=false;ham=true;pav=true;hitConditions=[  - hasaura{aura=cascadebolt_untargetable} false  - hasaura{aura=cascadebolt_untargetable_split1} false  - isLiving true  - isPlayer true ]}  
  
mender_lifeweavers_grace_split2:
  TargetConditions:
  - isPlayer true
  Skills:
  - healpercent{m=0.05;delay=1}
  - sound{s=mender.cascadebolt.split.impact} @origin
  - summon{type=vfx_mender_cascadebolt_split2_impact;onsurface=true;amount=1}